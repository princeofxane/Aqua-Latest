 {% extends "base_ib.html" %}
{% block body_content %}
 <!-- Main content -->
 <script type="text/javascript">
   $( document ).ready(function() {

    //loading the ticket view 
  var path=baseUrl + "displayAllTickets/"
  var table =  $('#example5').DataTable();
   table.clear().draw();
   $.ajax({
      type: "GET",
      url: path,
      data: {},
      success: function (data) {
          var data=JSON.parse(data);
          data=data.description;
          console.log(data);

        $.each(data, function(key,value) {
      table.row.add($(
    '<tr>' +
    '<td>'+value.phone+'</td>' +
    '<td>'+value.mail+'</td>' +
    '<td>'+value.pin+'</td>' +
    '<td>'+value.prob+'</td>' +
        '<td>'+value.date+'</td>' +

'<td><input type="submit" id="'+value.id+'" onclick="tickedit(this.id)" style="margin-bottom:3px;" value="edit" class="btn btn-success"></td>'+
    '<td><input type="submit" id="'+value.id+'" onclick="tidel(this.id)" value="Dismiss" class="btn btn-warning"></td>' +


    '</tr>'
)).draw(false);
    
          }); 
        
        },
        error:function(data){
          console.log(data);
        }
        });
});

 </script>
 <div id="page-wrapper" class="pt60" style="padding-top: 0% !important;padding-bottom: 0% !important; margin-top: 12%;margin-left: 10%;">
  <div class="container" style="width: 80%;">
    <table id="example5" class="table table-bordered table-hover">
                <thead>
                <tr>
                  <th>Phone</th>
                  <th>mail</th>
                  <th>Pincode</th>
                  <th>Problem</th>
                  <th>Request Date</th>
                  <th>Action1</th>
                  <th>Acttion2</th>

                </tr>
                </thead>
                <tbody>
               
                </tbody>
                <tfoot>
                <tr>
                   <th>Phone</th>
                  <th>mail</th>
                  <th>Pincode</th>
                  <th>Problem</th>
                  <th>Request Date</th>

                  <th>Action1</th>
                  <th>Acttion2</th>
                </tr>
                </tfoot>
              </table>
  

  <div id="myModaltick" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
      </div>
      <div class="modal-body">
       <div class="box box-info">
            <div class="box-header with-border text-center">
              <h3 class="box-title ">Editx Ticket</h3>
            </div>
            <!-- /.box-header -->
            <!-- form start -->
            <form class="form-horizontal">
              <div class="box-body">
                 <div class="form-group">
                  <label for="phone" class="col-sm-4 control-label">Phone</label>

                  <div class="col-sm-8">
                    <input type="number" class="form-control" id="phone" >
                  </div>
                </div>
                                 <div class="form-group">

                <label for="mail" class="col-sm-4 control-label">Email</label>

                  <div class="col-sm-8">
                    <input type="email" class="form-control" id="mail">
                  </div>
                </div>
                <div class="form-group">
                  <label for="pin" class="col-sm-4 control-label">Pincode</label>

                  <div class="col-sm-8">
                    <input type="text" class="form-control" id="pin">
                  </div>
                </div>
                   <div class="form-group">
                  <label for="prob" class="col-sm-4 control-label">Problem</label>

                  <div class="col-sm-8">
                    <input type="text" class="form-control" id="prob" style="height: 100px;">
                  </div>
                </div>

                <div class="form-group">
                  <label for="rdate" class="col-sm-4 control-label">Request date</label>

                  <div class="col-sm-8">
                    <input type="text" class="form-control" id="rdate">
                  </div>
                </div>

                             <div class="form-group">
                  <div class="col-sm-offset-2 col-sm-10">
                   
                  </div>
                </div>
              </div>
              <!-- /.box-body -->
              <div class="box-footer">
                <button type="submit" class="btn btn-info pull-right" id="tedit">Edit Ticket</button>
              </div>
              <!-- /.box-footer -->
            </form>
          </div>
                    
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>

{% endblock body_content %}
{$ block custom_js %}

